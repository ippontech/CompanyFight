<?xml version="1.0" encoding="UTF-8"?>
<persistence version="2.0"
             xmlns="http://java.sun.com/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="
        http://java.sun.com/xml/ns/persistence
        http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd">
        
     <!-- Only for testing purpose outside of the application server ... -->
        
    <persistence-unit name="primary">
        <provider>org.hibernate.ejb.HibernatePersistence</provider>
		
        <!-- note : in Java SE, the module is normally not scanned for entities classes -->
        <!-- That being said, Hibernate do scan the directory where it founds persistence.xml in Java SE env
             but as test ressources are not in the same directory than the entities, he can't find them for the tests
             So we have to list the entities here : -->
        <class>fr.ippon.companyfight.model.Person</class>
        <class>fr.ippon.companyfight.model.Organization</class>
        <class>fr.ippon.companyfight.model.Fight</class>
        <class>fr.ippon.companyfight.model.Repository</class>
        <class>fr.ippon.companyfight.model.Score</class>
		
        <properties>
            <!-- Properties for Hibernate-->
            <property name="hibernate.connection.driver_class" value="org.h2.Driver" />
            <property name="hibernate.connection.url" value="jdbc:h2:mem:junit-test;DB_CLOSE_DELAY=-1" />
            <property name="hibernate.connection.username" value="sa" />
            <property name="hibernate.connection.password" value="sa" />
			
            <property name="hibernate.hbm2ddl.auto" value="create-drop" />
            <property name="hibernate.show_sql" value="true"/>
            <property name="hibernate.dialect" value="org.hibernate.dialect.PostgreSQLDialect"/>
        </properties>
    </persistence-unit>
</persistence>
